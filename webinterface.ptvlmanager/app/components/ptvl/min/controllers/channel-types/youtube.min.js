define(["../../../controllers/ptvl"],function(e){e.controller("youtubeDetailsCtrl",["$scope","ruleFactory",function(e,n){e.changed={value:!1,path:!1,YtType:!1,sort:!1,limit:!1},e.YtTypes=n.getYtTypes(),e.sorts=n.getSorts(),e.limits=n.getLimits(),e.changes={},e.YtType={},10==e.channel.type.value?(e.YtType=n.getYtType(e.channel.rules.main[2]),e.sort=n.getSort(e.channel.rules.main[4]),e.limit=n.getLimit(e.channel.rules.main[3]),e.input=e.YtType.name,e.path=e.channel.rules.main[1]):(e.YtType=e.YtTypes[0],e.input=e.YtType.name,e.sort=e.sorts[0],e.limit=e.limits[0],e.path=""),e.selectYtType=function(n){e.YtType.name!==n.name?(e.changed.YtType=!0,e.changes.YtType=n.value,e.path="",e.input=n.name):alert("We must have missed something!!")},e.undoYtType=function(){1==confirm("Are you sure you want to undo changing the YouTube Type?")&&(e.changed.YtType=!1,e.YtType.selected=e.YtType,e.input=e.YtType.name)},e.selectSort=function(n){parseInt(e.channel.rules.main[4])!==n.value?(e.changed.sort=!0,e.changed.value=!0,e.changes.sort=n.value):(e.changed.sort=!1,e.changed.value=!1)},e.undoSort=function(){1==confirm("Are you sure you want to undo changing the plugin sort?")&&(e.changed.sort=!1,e.changed.value=!1,e.sort.selected=e.sort)},e.selectLimit=function(n){parseInt(e.channel.rules.main[3])!==n.value?(e.changed.limit=!0,e.changed.value=!0,e.changes.limit=n.value):(e.changed.limit=!1,e.changed.value=!1)},e.undoLimit=function(){1==confirm("Are you sure you want to undo changing the plugin sort?")&&(e.changed.limit=!1,e.changed.value=!1,e.limit.selected=e.limit)},e.changedPath=function(){e.changed.path=!0,e.changed.value=!0},e.saveYouTube=function(n,t){n.rules.main[1]=t,"limit"in e.changed&&(n.rules.main[3]=e.changes.limit),"sort"in e.changes&&(n.rules.main[4]=e.changes.sort);for(var a in e.changed)e.changed[a]=!1}}])});