define(["./movies"],function(e){"use strict";String.prototype.contains=function(e){return-1!=this.indexOf(e)},e.controller("moviesDetailsCtrl",["$scope","$modal","$state","$log","moviesDetails",function(e,i,o,t,n){this.modalDetails=function(a,m){var s=i.open({templateUrl:"/app/components/movies/movies-details.html",controller:["$scope","$state","$modalInstance","movieid",function(e,i,o,t){e.oneAtATime=!0,e.members=!0,e.movieid=t,n.async(e.movieid).then(function(i){e.details=i;var o="";e.details.thumbnail.contains("image.tmdb.org")?(o=decodeURIComponent(e.details.thumbnail),o=o.replace("image://",""),e.movieThumb=o):(o="/image/image%3A%2F%2F"+encodeURI(e.details.thumbnail.replace("image://","")),e.movieThumb=o),e.getTrailer=function(e){var i=e.replace("plugin://plugin.video.youtube/?action=play_video&videoid=","");return"https://www.youtube.com/embed/"+i}}),e.actorThumb=function(i,o){var t=decodeURIComponent(o);console.log(t),t=t.replace("image://",""),e.actorThumb[i]=t},e.ok=function(){},e.cancel=function(){o.dismiss("cancel")}}],size:a,resolve:{movieid:function(){return o.go(".details"),m}}});s.result.then(function(i){e.selected=i},function(){o.go("movies"),t.info("Modal dismissed at: "+new Date)})}}])});